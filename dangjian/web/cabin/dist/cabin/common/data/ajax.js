!function(){var a,b,c,d,e={};d={TIMEOUT:1e4},b={setGlobalParam:function(a){e=$.extend(e,a)},query:function(){var b,c,e,f;if(3==arguments.length)b=arguments[0],e="json",c=arguments[1],f=arguments[2];else{if(4!=arguments.length)return;b=arguments[0],e=arguments[1],c=arguments[2],f=arguments[3]}c=c||{},c=a.decorateParam(c),$.ajax({url:b,dataType:"json",data:c,xhrFields:{withCredentials:!0},type:"GET",cache:!1,timeout:d.TIMEOUT,success:function(b){"function"==typeof f&&a.callbackProxy(b,f)},error:function(){var b={code:"-1",result:"加载数据失败",data:{}};"function"==typeof f&&a.callbackProxy(b,f)}})},post:function(){var b,c,e,f;3==arguments.length&&(b=arguments[0],e="json",c=arguments[1],f=arguments[2],c=c||{},c=a.decorateParam(c),$.ajax({url:b,dataType:"json",data:c,xhrFields:{withCredentials:!0},type:"POST",cache:!1,timeout:d.TIMEOUT,success:function(b){"function"==typeof f&&a.callbackProxy(b,f)},error:function(){var b={code:"-1",message:"加载数据失败",data:{}};"function"==typeof f&&a.callbackProxy(b,f)}}))},postFile:function(b){var c=b.url,d=b.file,e=b.callback,f=new FormData;f.append("file",d),$.ajax({url:c,type:"POST",data:f,xhrFields:{withCredentials:!0},contentType:!1,processData:!1,success:function(b){"function"==typeof e&&a.callbackProxy(b,e)},error:function(b){"function"==typeof e&&a.callbackProxy(b,e)}})}},a={decorateParam:function(a){return a},callbackProxy:function(a,b){"function"==typeof b&&b(a)}},define("cabin/common/data/ajax",function(require,a,d){c=require("kayak/core/router/router"),d.exports=b})}();