!function(){function a(a){var b=this,c="",d=1,f="";b.defaults={content:"",stayTime:h.TIME,type:h.TYPE,zIndex:h.Z_INDEX},setTimeout(function(){switch(b.option=$.extend(b.defaults,a),b.option.contStyle=b.option.type?"":"padding:10px 15px 10px",b._isFromTpl='<div class="ui-poptips-cont" style="'+b.option.contStyle+'">'+b.option.content+"</div>",b.el=e.jView,c="position: fixed;margin-bottom:-30px;left: 0;bottom: 50%;z-index: "+b.option.zIndex+";",f="ui-poptips ui-poptips-"+b.option.type,!0){case"info"==b.option.type:b.el.removeClass("ui-poptips-warn");break;case"warn"==b.option.type:b.el.removeClass("ui-poptips-info")}b.el.attr("style",c).addClass(f).html(b._isFromTpl),b.show()},d)}var b,c,d,e,f,g,h;$.Callbacks?$.Callbacks():null;h={ING_CLS:"showing",TYPE:"info",CSS_ANIM_TIME:100,TIME:1e3,Z_INDEX:9999},a.prototype={show:function(){var a=this,b=a.el;return b.trigger("toast:show"),b.hasClass(h.ING_CLS)?(clearTimeout(g),void a.timeOutFunc()):(b.addClass(h.ING_CLS),void a.timeOutFunc())},timeOutFunc:function(){var a=this;a.option.stayTime>0&&(g=setTimeout(function(){a.hide()},a.option.stayTime))},hide:function(){var a=this,b=a.el;b.trigger("toast:hide"),b.removeClass(h.ING_CLS),setTimeout(function(){b.css("left","-100%"),"function"==typeof a.option.complete&&a.option.complete()},h.CSS_ANIM_TIME)}},e={className:"kayak-widgets-toast-toast",jView:null,initView:!1,inited:!1,show:function(c){var d=c.jBody||b.jBody;return f.initView(d),e.jView.kInsert(d),new a(c).el},distory:function(){f.exit()},exit:function(){f.exit()}},f={initView:function(a){e.initView||(e.jView=d.get(e.className,a),e.initView=!0)},exit:function(){var a=e.jView;a&&a.kRemove()}},define("kayak/widgets/toast/toast",function(require,a,f){require("kayak/widgets/toast/toast.tpl"),require("kayak/widgets/toast/toast.css"),b=require("kayak/core/kayak"),d=b.dom,c=b.router,f.exports=e})}();