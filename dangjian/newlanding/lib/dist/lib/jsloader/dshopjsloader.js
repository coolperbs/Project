!function(){var a,b,c,d,e;VERSION=-1,d={COOKIE_UPDATE_TIME:"updateTime",COOKIE_INITED:"inited",STATIC_URL:window.kayak.root},b={loadJs:function(b,e){a.checkInit(e);var f,g,h,i=document.getElementsByTagName("script"),j=a.getSourceRoot(),k=c.get(d.COOKIE_UPDATE_TIME),l=[];for(f=0;g=i[f];++f)h=g.getAttribute("data-src"),h&&(h=j+h,h=VERSION?h+"?t="+VERSION:h,h+="&updatetime="+k,l.push(h));a.loadJsWrapper(l,b)},loadCss:function(b){a.checkInit(b);var e,f,g,h=document.getElementsByTagName("link"),i=a.getSourceRoot(),j=c.get(d.COOKIE_UPDATE_TIME);for(e=0;f=h[e];++e)g=f.getAttribute("data-href"),g&&(g=i+g,g=VERSION?g+"?t="+VERSION:g,g+=g.indexOf("?")>-1?"&":"?",g+="updatetime="+j,f.href=g)}},c={get:function(a){var b=new RegExp("(^|;|\\s+)"+a+"=([^;]*)(;|$)"),c=document.cookie.match(b);return c?unescape(c[2]):""},add:function(a,b,c,d,e){var f=new Date,g=30;c=c||g,f.setDate(f.getDate()+c),d=d||"/",e=e||(location.host.indexOf(".dmall.com")>0?"dmall.com":document.domain),document.cookie=escape(a)+"="+escape(b)+";expires="+f.toGMTString()+";path="+d+";domain="+e},del:function(a,b,c){var d=new Date,b=b||"/";c=c||"dmall.com",d.setTime(d.getTime()-1e4),document.cookie=a+"=; expires="+d.toGMTString()+";path="+b+";domain="+c}},a={checkInit:function(a){if(!(VERSION>-1)){var b=c.get(d.COOKIE_INITED),e=c.get(d.COOKIE_UPDATE_TIME)||VERSION,f=(document.domain,30);VERSION=a||VERSION,e=b+""=="false"?(new Date).getTime():VERSION>e?VERSION:e,c.add(d.COOKIE_UPDATE_TIME,e,f,"/","dmall.com"),c.add(d.COOKIE_INITED,"false",f,"/","dmall.com")}},getSourceRoot:function(){var b=(window.location.href,a.getRequest());return e?e:e=b.debuglocation&&/http:\/\/[A-Za-z0-9]+.dmall.com/.test(b.debuglocation)?b.debuglocation:a.getEvt()+d.STATIC_URL},getEvt:function(){return""},getRequest:function(a){var b,c,d,e={};switch(a=a||"search"){case"hash":b=window.location.href.split("#")[1]||"";break;case"search":b=window.location.href.split("?")[1]||"",b=b.split("#")[0]}for(d=b.split("&"),c=0;c<d.length;c++)e[d[c].split("=")[0]]=unescape(d[c].split("=")[1]);return e},loadJsWrapper:function(b,c){b=b||[];var d,e="UTF-8";return"string"==typeof b&&(b=[b]),d=b.shift(),d&&d.length?void a.loadJs(d,e,function(){a.loadJsWrapper(b,c)}):void("function"==typeof c&&c())},loadJs:function(a,b,c){var d=document.createElement("script"),e=document.getElementsByTagName("head")[0]||document.body;d.readyState?d.onreadystatechange=function(){"loaded"!=d.readyState&&"complete"!=d.readyState||(d.onreadystatechange=null,"function"==typeof c&&c())}:d.onload=function(){"function"==typeof c&&c()},d.charset=b,d.src=a,e.appendChild(d)}},window.dmall=window.dmall||{},window.dmall.Loader=b,c.del("inited","/","a.dmall.com"),c.del("updateTime","/","a.dmall.com")}();